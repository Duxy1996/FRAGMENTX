<div class="container">
    <% if policy(@objects).create? %>
      <%= link_to t('restored_object.add_object'), new_restored_object_path, class: 'btn btn-primary right' %>
    <% else %>
      <%= link_to t('restored_object.add_object'), new_user_registration_path, class: 'btn btn-primary right' %>
    <% end %>
    <h1><%= t('activerecord.models.restored_object.other') %></h1>
    <br/>
    <div class="card-columns">
    <% @objects.each do |obj| %>
        <div class="card">
            <%= image_tag(obj.avatar.url(:thumb), class:'card-img-top') %>
            <div class="card-body">
                <span class="badge badge-pill badge-info float-right"><%= obj.pieces.count %> <%= t('restored_object.pieces') %></span>
                <h2><%= link_to obj.title, obj, data: { no_turbolink: true } %></h2>
                <p><%= truncate(obj.description, length: 150, omission: "...") %>
            </div>
            <div class="card-footer">
                <%= time_ago_in_words obj.created_at %><br/>
                <% obj.categories.each do |cat| %>
                    <%= link_to cat do %>
                        <span class="badge badge-pill badge-secondary"><%= cat.name %></span>
                    <% end %>
                <% end %>
            </div>
        </div>
    <% end %>
    </div>
    <br/><br/>
    <%= paginate @objects, theme: 'twitter-bootstrap-4' %>
</div>